[gd_scene load_steps=10 format=3 uid="uid://cb3nflt43qrgo"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_gn5a0"]
[ext_resource type="ArrayMesh" uid="uid://bk7f1p5blvqe" path="res://models/viewmodel.obj" id="2_7ub2u"]
[ext_resource type="ArrayMesh" uid="uid://dxot1ygcupbaj" path="res://models/uzi.obj" id="3_22wcl"]
[ext_resource type="Material" uid="uid://d1xcswmqy0up4" path="res://materials/goo.tres" id="3_e55gt"]
[ext_resource type="Script" path="res://scripts/UI.gd" id="3_o84eb"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_x0st1"]

[sub_resource type="CylinderMesh" id="CylinderMesh_gr3n5"]
top_radius = 0.1
bottom_radius = 0.1
height = 3.0

[sub_resource type="BoxShape3D" id="BoxShape3D_njgvg"]
size = Vector3(20, 0.1, 20)

[sub_resource type="BoxMesh" id="BoxMesh_3oyeb"]
size = Vector3(20, 0.1, 20)

[node name="Sandbox" type="Node"]

[node name="3DWorld" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="3DWorld"]
transform = Transform3D(0.881204, 0.132016, -0.453928, 0, 0.960216, 0.279259, 0.472735, -0.246084, 0.846146, 0, 6.58646, 0)

[node name="Player" type="CharacterBody3D" parent="3DWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.51102, 0)
script = ExtResource("1_gn5a0")
arm_range = Vector2(1.25, 1.25)
arm_base = Vector2(-0.5, 0)

[node name="Camera" type="Camera3D" parent="3DWorld/Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
current = true
fov = 90.0

[node name="Collider" type="CollisionShape3D" parent="3DWorld/Player"]
shape = SubResource("CapsuleShape3D_x0st1")

[node name="ArmAnchor" type="Node3D" parent="3DWorld/Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.7, 0, -0.56492)

[node name="Uzi" type="MeshInstance3D" parent="3DWorld/Player/ArmAnchor"]
transform = Transform3D(-2.98023e-08, 0, -1, 0, 1, 0, 1, 0, -2.98023e-08, 0, 0, -0.25)
mesh = ExtResource("3_22wcl")

[node name="Line Markers" type="Node3D" parent="3DWorld/Player/ArmAnchor"]
transform = Transform3D(0.95882, 0, 0.284015, 0, 1, 0, -0.284015, 0, 0.95882, 0, 0, 0)

[node name="Tip" type="Node3D" parent="3DWorld/Player/ArmAnchor/Line Markers"]
transform = Transform3D(-2.98023e-08, 0, -1, 0, 1, 0, 1, 0, -2.98023e-08, 0, 0, -1.5)

[node name="Back" type="Node3D" parent="3DWorld/Player/ArmAnchor/Line Markers"]
transform = Transform3D(-2.98023e-08, 0, -1, 0, 1, 0, 1, 0, -2.98023e-08, 0.006, -0.001, 1.499)

[node name="MeshInstance3D" type="MeshInstance3D" parent="3DWorld/Player/ArmAnchor/Line Markers"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
visible = false
mesh = SubResource("CylinderMesh_gr3n5")

[node name="Viewmodel" type="SoftBody3D" parent="3DWorld"]
transform = Transform3D(0.5, -0.433013, -0.750001, 0, 0.866025, -0.5, 0.866026, 0.25, 0.433013, 0.427582, 1.08298, -0.416007)
material_override = ExtResource("3_e55gt")
mesh = ExtResource("2_7ub2u")
skeleton = NodePath("../Player/Camera")
collision_layer = 3
collision_mask = 3
parent_collision_ignore = NodePath("../Player")
pressure_coefficient = 10.0
damping_coefficient = 0.51
pinned_points = [123, 202, 275, 197, 191, 305, 43, 69, 22]
attachments/0/point_index = 123
attachments/0/spatial_attachment_path = NodePath("../Player/ArmAnchor/Line Markers/Tip")
attachments/0/offset = Vector3(1.21562, -0.0239354, -0.371289)
attachments/1/point_index = 202
attachments/1/spatial_attachment_path = NodePath("../Player/ArmAnchor/Line Markers/Tip")
attachments/1/offset = Vector3(1.4174, 0.166303, -0.27476)
attachments/2/point_index = 275
attachments/2/spatial_attachment_path = NodePath("../Player/ArmAnchor/Line Markers/Tip")
attachments/2/offset = Vector3(1.601, -0.0655809, -0.448629)
attachments/3/point_index = 197
attachments/3/spatial_attachment_path = NodePath("../Player/ArmAnchor/Uzi")
attachments/3/offset = Vector3(0.146887, 0.159702, -0.17272)
attachments/4/point_index = 191
attachments/4/spatial_attachment_path = NodePath("../Player/ArmAnchor/Uzi")
attachments/4/offset = Vector3(0.149699, 0.135737, -0.103262)
attachments/5/point_index = 305
attachments/5/spatial_attachment_path = NodePath("../Player/ArmAnchor/Uzi")
attachments/5/offset = Vector3(0.223752, 0.147167, -0.129079)
attachments/6/point_index = 43
attachments/6/spatial_attachment_path = NodePath("../Player/ArmAnchor/Line Markers/Back")
attachments/6/offset = Vector3(-1.23554, -0.717876, 0.376786)
attachments/7/point_index = 69
attachments/7/spatial_attachment_path = NodePath("../Player/ArmAnchor/Line Markers/Back")
attachments/7/offset = Vector3(-1.36274, -0.328552, 0.788378)
attachments/8/point_index = 22
attachments/8/spatial_attachment_path = NodePath("../Player/ArmAnchor/Line Markers/Back")
attachments/8/offset = Vector3(-1.68996, -0.693338, 0.480733)

[node name="Terrain" type="Node3D" parent="3DWorld"]

[node name="Ground" type="StaticBody3D" parent="3DWorld/Terrain"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="3DWorld/Terrain/Ground"]
shape = SubResource("BoxShape3D_njgvg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="3DWorld/Terrain/Ground"]
mesh = SubResource("BoxMesh_3oyeb")

[node name="Pile of boxes" type="Node3D" parent="3DWorld/Terrain"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.49567, 0, -1.95697)

[node name="CSGBox3D" type="CSGBox3D" parent="3DWorld/Terrain/Pile of boxes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[node name="CSGBox3D2" type="CSGBox3D" parent="3DWorld/Terrain/Pile of boxes"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.25, 0)

[node name="UI" type="Control" parent="."]
process_mode = 3
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("3_o84eb")
